(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{117:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n(19),r=n.n(s),c=n(10),i=n(13),o=(n(81),n(17)),l=n(0),u=Object(o.b)((function(e){return{token:e.user.token,user:e.user.user}}))((function(e){return Object(l.jsxs)("div",{className:"footer",children:[Object(l.jsx)("div",{id:"button"}),Object(l.jsx)("div",{id:"container",children:Object(l.jsxs)("div",{className:"contenidoFooter d-flex justify-content-center align-items-center flex-wrap",children:[Object(l.jsx)(c.c,{className:"navLink ",exact:!0,to:"/",children:"Home"}),Object(l.jsx)(c.c,{className:"navLink",to:"/cities",children:"Cities"}),Object(l.jsx)("div",{className:"d-flex",children:Object(l.jsx)("h1",{children:"MyTinerary"})}),!e.token&&Object(l.jsx)(c.c,{className:"navLink",to:"/signin",children:"Sign In"}),!e.token&&Object(l.jsx)(c.c,{className:"navLink",to:"/signup",children:"Sign Up"})]})})]})})),j=n(126),d=n(125),m=n(8),p=n.n(m),b=n(12),h=n(2),O=n(24),g=n.n(O),x={signUp:function(e){return function(t){return g.a.post("https://mytinerary-rojas.herokuapp.com/api/user/signup",Object(h.a)({},e)).then((function(e){if(e.data.success)return t({type:"SIGN_INTO_SYSTEM",payload:{token:e.data.response.token,user:e.data.response}}),{success:!0,message:"Everything is ok"};if(e.data.success)throw new Error;return{success:!1,message:e.data.error,errors:e.data.errors}})).catch((function(e){return{success:!1,message:"Something went wrong, try again later..."}}))}},signIn:function(e){return function(){var t=Object(b.a)(p.a.mark((function t(n){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.post("https://mytinerary-rojas.herokuapp.com/api/user/signin",Object(h.a)({},e));case 2:return(a=t.sent).data.success&&n({type:"SIGN_INTO_SYSTEM",payload:{token:a.data.response.token,user:a.data.response}}),t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},signOut:function(){return function(e){e({type:"SIGN_OUT"})}},signInLocalStorage:function(e){return function(t){return g.a.get("https://mytinerary-rojas.herokuapp.com/api/checkToken",{headers:{Authorization:"Bearer "+e}}).then((function(n){return t({type:"SIGN_INTO_SYSTEM",payload:{token:e,user:n.data.response}}),n})).catch((function(e){return t({type:"SIGN_OUT"})}))}}},f={signOut:x.signOut},v=Object(o.b)((function(e){return{token:e.user.token,user:e.user.user}}),f)((function(e){return Object(l.jsxs)(j.a,{className:"navbar-default",collapseOnSelect:!0,fixed:"top",expand:"lg",bg:"transparent",variant:"dark",children:[Object(l.jsx)(j.a.Brand,{className:"py-0 ",children:Object(l.jsxs)("div",{className:"brand",children:[Object(l.jsx)("img",{src:"/assets/img/logo.png",className:"d-inline-block align-top logo",alt:"MyTinerary Logo"}),Object(l.jsx)("h2",{children:"MyTinerary"})]})}),Object(l.jsx)(d.a,{children:e.token?Object(l.jsxs)("div",{className:"profilePicture",children:[Object(l.jsx)("img",{src:e.user.photoUrl,alt:"user",className:"image--cover"}),Object(l.jsx)("p",{children:e.user.name})]}):Object(l.jsxs)("div",{className:"profilePicture",children:[Object(l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",className:"bi bi-person-circle",viewBox:"0 0 16 16",children:[Object(l.jsx)("path",{d:"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"}),Object(l.jsx)("path",{fillRule:"evenodd",d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"})]}),Object(l.jsx)("p",{children:"Guest"})]})}),Object(l.jsx)(j.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(l.jsx)(j.a.Collapse,{id:"responsive-navbar-nav",children:Object(l.jsxs)(d.a,{className:"me-auto fs-4",children:[Object(l.jsx)(c.c,{className:"navLink",exact:!0,to:"/",children:"Home"}),Object(l.jsx)(c.c,{className:"navLink",to:"/cities",children:"Cities"}),!e.token&&Object(l.jsx)(c.c,{className:"navLink",to:"/signin",children:"Sign In"}),!e.token&&Object(l.jsx)(c.c,{className:"navLink",to:"/signup",children:"Sign Up"}),e.token&&Object(l.jsx)("p",{className:"navLink signOut",onClick:function(){return e.signOut()},children:"Sign Out"})]})})]})})),y=n(70),N=n(71),I=n(76),k=n(75),w=n(22),C=function(e){var t=e.cities;return Object(l.jsx)(l.Fragment,{children:t.map((function(e){return Object(l.jsx)("div",{style:{backgroundImage:'url("/assets/img/'.concat(e.name,'")')},className:"slideHijo",children:Object(l.jsx)("h2",{children:e.title})},e.id)}))})},S=function(e){var t=e.carouselItems;return Object(l.jsxs)("div",{className:"carouselCities",children:[Object(l.jsx)("h1",{className:"py-5 carouselTitle",children:"Popular MyTineraries"}),Object(l.jsx)(w.a,{fade:!0,children:t.map((function(e,t){return Object(l.jsx)(w.a.Item,{children:Object(l.jsx)("div",{className:"slidePadre",children:Object(l.jsx)(C,{cities:e})})},t)}))})]})},_=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"hero",children:[Object(l.jsxs)(w.a,{className:"slider",fade:!0,children:[Object(l.jsx)(w.a.Item,{interval:3e3,children:Object(l.jsx)("div",{className:"caption1",children:Object(l.jsx)("video",{src:"https://assets.mixkit.co/videos/preview/mixkit-young-man-walking-listening-to-music-from-his-headphones-4855-large.mp4",autoPlay:!0,loop:!0,muted:!0})})}),Object(l.jsx)(w.a.Item,{interval:4e3,children:Object(l.jsx)("div",{className:"caption2",children:Object(l.jsx)("video",{src:"https://assets.mixkit.co/videos/preview/mixkit-aerial-view-of-hot-air-balloon-over-turkish-landscape-12977-large.mp4",autoPlay:!0,loop:!0,muted:!0})})}),Object(l.jsx)(w.a.Item,{interval:4e3,children:Object(l.jsx)("div",{className:"caption3",children:Object(l.jsx)("video",{src:"https://assets.mixkit.co/videos/preview/mixkit-honeymoon-of-a-couple-looking-on-a-map-4651-large.mp4",autoPlay:!0,loop:!0,muted:!0})})})]}),Object(l.jsxs)("div",{className:"covertext",children:[Object(l.jsx)("img",{className:"animate__animated animate__fadeInDownBig",src:"./assets/img/logo1.png",alt:"MyTinerary Logo"}),Object(l.jsx)("h1",{className:"title animate__animated animate__fadeInUp animate__delay-1s",children:"MyTinerary"}),Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{className:"subtitle",children:"Find your perfect trip, designed by insiders who know and love their cities!"}),Object(l.jsx)(c.c,{className:"navLink callToAction",exact:!0,to:"/cities",children:Object(l.jsx)("button",{className:"btnHome",children:Object(l.jsx)("span",{children:"START YOUR ADVENTURE!"})})})]})]})]})})},L=function(e){Object(I.a)(n,e);var t=Object(k.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){return Object(l.jsxs)("div",{className:"contenidoHome",children:[Object(l.jsx)(_,{}),Object(l.jsx)(S,{carouselItems:[[{id:"1",name:"bruges.jpg",title:"Bruges - Belgium"},{id:"2",name:"paris.jpg",title:"Paris - France"},{id:"3",name:"london.jpg",title:"London - England"},{id:"4",name:"barcelona.jpg",title:"Barcelona - Spain"}],[{id:"5",name:"beijing.jpg",title:"Beijing - China"},{id:"6",name:"cairo.jpg",title:"Cairo - Egypt"},{id:"7",name:"casablanca.jpg",title:"Casablanca - Morocco"},{id:"8",name:"tokyo.jpg",title:"Tokyo - Japan"}],[{id:"9",name:"buenosAires.jpg",title:"Buenos Aires - Argentina"},{id:"10",name:"cartagena.jpg",title:"Cartagena -  Colombia"},{id:"11",name:"newYork.jpg",title:"New York - United States"},{id:"12",name:"havana.jpg",title:"Havana - Cuba"}]]})]})}}]),n}(a.Component),T=function(){return Object(l.jsx)("div",{id:"preloader",children:Object(l.jsx)("div",{id:"loader"})})},E=n(15),A=(n(64),{getList:function(){return function(){var e=Object(b.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("https://mytinerary-rojas.herokuapp.com/api/cities");case 3:return n=e.sent,a=n.data.response,t({type:"GET_ALL_CITIES",payload:a}),e.abrupt("return",{success:!0});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{success:!1,error:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},filterCities:function(e){return function(t){t({type:"FILTER_CITIES",payload:e})}}}),B={getCitiesList:A.getList,filterCitiesList:A.filterCities},U=Object(o.b)((function(e){return{citiesList:e.cities.citiesList,filteredCitiesList:e.cities.filteredCitiesList}}),B)((function(e){Object(a.useEffect)((function(){function t(){return(t=Object(b.a)(p.a.mark((function t(){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getCitiesList();case 2:(n=t.sent)&&n.error&&E.b.error("Something went wrong! Redirecting to Home",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,onClose:function(){return e.history.push("/")}});case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}window.scrollTo(0,0),function(){t.apply(this,arguments)}()}),[]);return 0===e.citiesList.length?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(T,{}),Object(l.jsx)(E.a,{})]}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"header",style:{backgroundImage:'url("/assets/img/headerBackground.jpg")'},children:[Object(l.jsx)("span",{className:"animate__animated animate__fadeInDownBig",children:"MyTinerary"}),Object(l.jsx)("h1",{className:" animate__animated animate__fadeInUp animate__delay-1s",children:"CITIES"}),Object(l.jsx)("div",{className:"mouse",children:Object(l.jsx)("span",{})})]}),Object(l.jsxs)("div",{className:"citiesContent",children:[Object(l.jsx)("div",{className:"searchBar",children:Object(l.jsxs)("form",{className:"searchform group",children:[Object(l.jsx)("input",{type:"search",id:"search-box",placeholder:"Search your Dream Destination",onChange:function(t){e.filterCitiesList(t.target.value.toLowerCase().trim())}}),Object(l.jsx)("label",{htmlFor:"search-box",children:Object(l.jsx)("span",{className:"fa fa-2x fa-search"})})]})}),Object(l.jsx)("div",{className:"containerCities",children:e.filteredCitiesList.length>0?e.filteredCitiesList.map((function(e,t){return Object(l.jsxs)("figure",{className:"cities-grid effect-move",children:[Object(l.jsx)(c.b,{className:"cityLink",to:"/city/".concat(e._id)}),Object(l.jsx)("img",{className:"cities-grid-image effect-image",src:"/assets/img/".concat(e.name),alt:""}),Object(l.jsxs)("figcaption",{className:"cities-grid-content",children:[Object(l.jsx)("span",{className:"cities-tag effect-target",children:"CITY"}),Object(l.jsx)("h2",{className:"cities-grid-title effect-target",children:e.title}),Object(l.jsx)("p",{className:"cities-grid-text effect-target effect-text",children:e.subtitle})]})]},t)})):Object(l.jsx)("h1",{style:{textAlign:"center"},children:"No results were found for your search, please try another city!"})})]}),Object(l.jsx)(E.a,{})]})})),P=function(){return Object(l.jsx)("div",{className:"notFound404",style:{backgroundImage:"url(https://www.trecebits.com/wp-content/uploads/2020/11/Error-404.jpg)"},children:Object(l.jsx)(c.c,{className:"navLink",exact:!0,to:"/",children:Object(l.jsx)("button",{className:"btnHome",children:Object(l.jsx)("span",{children:"Return to Home"})})})})},R=n(18),F=function(e){return Object(l.jsxs)("div",{className:"header",style:{backgroundImage:'url("/assets/img/'.concat(e.city.name,'")')},children:[Object(l.jsx)("span",{className:"animate__animated animate__fadeInDownBig",children:e.city.subtitle}),Object(l.jsx)("h1",{className:" animate__animated animate__fadeInUp animate__delay-1s",children:e.city.title}),Object(l.jsx)("div",{className:"mouse",children:Object(l.jsx)("span",{})})]})},Y=n(121),M=n(122),G=n(123),H=n(124),q=function(e){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(w.a,{className:"activitiesCarousel",fade:!0,children:e.activities.map((function(e,t){return Object(l.jsxs)(w.a.Item,{children:[Object(l.jsx)("div",{className:"d-block slideActivities",style:{backgroundImage:'url("/assets/img/'.concat(e.photo,'")')}}),Object(l.jsx)(w.a.Caption,{children:Object(l.jsx)("h3",{className:"activitiesLabel",children:e.name})})]},t)}))})})},D={getItinerariesByCity:function(e){return function(){var t=Object(b.a)(p.a.mark((function t(n){var a,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.a.get("https://mytinerary-rojas.herokuapp.com/api/itineraries/".concat(e));case 3:return a=t.sent,s=a.data.response,n({type:"GET_ITINERARY_BY_CITY",payload:s}),t.abrupt("return",{success:!0});case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",{success:!1,error:t.t0});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},getAllItineraries:function(){return function(e){g.a.get("https://mytinerary-rojas.herokuapp.com/api/itineraries").then((function(t){var n=t.data.response;e({type:"GET_ALL_ITINERARIES",payload:n})}))}},cleanUpItineraries:function(){return function(e){e({type:"CLEAN_ITINERARIES"})}},getActivitiesByItinerary:function(e){return function(){var t=Object(b.a)(p.a.mark((function t(n){var a,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.a.get("https://mytinerary-rojas.herokuapp.com/api/activities/".concat(e));case 3:return a=t.sent,s=a.data.response,n({type:"GET_ACTIVITIES_BY_ITINERARY",payload:s}),t.abrupt("return",{success:!0,activities:s});case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",{success:!1,error:t.t0});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},addNewComment:function(e,t){return function(){var n=Object(b.a)(p.a.mark((function n(a){var s;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,g.a.post("https://mytinerary-rojas.herokuapp.com/api/comments/".concat(t),{newComment:e},{headers:{Authorization:"Bearer "+e.token}});case 3:return s=n.sent,n.abrupt("return",s.data);case 7:return n.prev=7,n.t0=n.catch(0),n.abrupt("return",{response:{success:!1}});case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}},z=function(e){return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"comment-section",children:[Object(l.jsx)("div",{className:"image-holder",children:Object(l.jsx)("img",{src:e.comment.userPhoto,alt:"User"})}),Object(l.jsxs)("div",{className:"comment-desc",children:[Object(l.jsxs)("div",{className:"user-desv",children:[Object(l.jsxs)("div",{className:"userlinks",children:[Object(l.jsxs)("span",{className:"user-name",children:[" ",e.comment.name," "]}),Object(l.jsxs)("span",{className:"muted-txt",children:[" ",e.comment.date]})]}),Object(l.jsxs)("div",{className:"likes-sec",children:[Object(l.jsx)("i",{className:"fas fa-edit"}),Object(l.jsx)("i",{className:"fas fa-trash"})]})]}),Object(l.jsx)("p",{className:"questions",children:e.comment.comment})]})]})})},V=function(e){return Object(l.jsx)("div",{className:"comments-section",children:e.comments.map((function(e){return Object(l.jsx)(z,{comment:e},e._id)}))})},J=n(33),W={getActivities:D.getActivitiesByItinerary,addNewComment:D.addNewComment,getItineraries:D.getItinerariesByCity},Q=Object(o.b)((function(e){return{user:e.user.user}}),W)((function(e){var t=Object(a.useState)(!1),n=Object(R.a)(t,2),s=n[0],r=n[1],c=Object(a.useState)("View More"),i=Object(R.a)(c,2),o=i[0],u=i[1],j=Object(a.useState)([]),d=Object(R.a)(j,2),m=d[0],h=d[1],O=Object(a.useState)({userId:"",comment:"",userPhoto:"",name:"",token:"",date:""}),g=Object(R.a)(O,2),x=g[0],f=g[1],v=new Date,y="".concat(v.getDate(),"/").concat(v.getMonth()+1,"/").concat(v.getFullYear()),N=function(t){f({userId:e.user.id,comment:t.target.value,userPhoto:e.user.photoUrl,name:e.user.name,token:localStorage.getItem("token"),date:y})},I=function(){var t=Object(b.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),!Object.values(x).some((function(e){return""===e}))){t.next=4;break}return E.b.error("You can't submit an empty comment!",{position:"top-center",autoClose:3e3}),t.abrupt("return",!1);case 4:return t.next=6,e.addNewComment(x,e.itinerary._id);case 6:t.sent.success?(function(){var t=Object(b.a)(p.a.mark((function t(){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getItineraries(e.itinerary.cityId._id);case 2:(n=t.sent)&&n.error;case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),E.b.success("Your comment was published!",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),f({userId:"",comment:"",userPhoto:"",name:"",token:""})):E.b.error("You need to be logged in to submit a comment!",{position:"top-center",autoClose:3e3});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),k=localStorage.getItem("token");return Object(l.jsxs)("div",{className:"card-box-container",children:[Object(l.jsxs)("div",{className:"card-box-text-itinerary",children:[Object(l.jsx)("h2",{className:"itinerary-title",children:e.itinerary.name}),Object(l.jsx)("h3",{children:e.itinerary.description}),Object(l.jsxs)("div",{className:"author",children:[Object(l.jsx)("img",{alt:"Author",className:"image",src:"/assets/img/".concat(e.itinerary.author.photo)}),Object(l.jsx)("h2",{children:e.itinerary.author.name})]}),Object(l.jsxs)("div",{className:"features",children:[Object(l.jsx)("span",{className:"hashtags",children:e.itinerary.hashtags.map((function(e,t){return Object(l.jsx)("p",{children:e},t)}))}),Object(l.jsxs)("span",{className:"price",children:["Price:",[1,2,3,4,5].slice(0,e.itinerary.price).map((function(e){return Object(l.jsx)("i",{className:"fad fa-money-bill-wave"},e)}))]}),Object(l.jsxs)("span",{className:"time",children:[Object(l.jsx)("i",{className:"fal fa-clock"}),e.itinerary.duration,"hs"]}),Object(l.jsx)("span",{children:Object(l.jsx)("i",{className:"fal fa-heart"})})]})]}),Object(l.jsxs)("div",{className:"activitiesContainer",children:[Object(l.jsx)(Y.a,{isOpen:s,onEntering:function(){return u("Opening...")},onEntered:function(){return u("View Less")},onExiting:function(){return u("Closing...")},onExited:function(){return u("View More")},children:Object(l.jsx)(M.a,{style:{backgroundColor:"transparent",border:"none"},children:Object(l.jsxs)(G.a,{className:"itineraryBody",children:[Object(l.jsx)(q,{activities:m}),Object(l.jsx)(V,{comments:e.itinerary.comments}),Object(l.jsx)(J.a,{children:Object(l.jsxs)(J.a.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[Object(l.jsx)(J.a.Label,{children:"Please leave a comment!"}),k?Object(l.jsx)(J.a.Control,{onChange:N,as:"textarea",rows:3,value:x.comment}):Object(l.jsx)(J.a.Control,{onChange:N,as:"textarea",rows:3,value:"YOU MUST SIGN IN BEFORE SUBMIT NEW COMMENTS",disabled:!0})]})}),k?Object(l.jsx)(H.a,{onClick:I,variant:"outline-secondary",children:"Submit"}):Object(l.jsx)(H.a,{onClick:I,variant:"outline-secondary",disabled:!0,children:"Submit"})]})})}),Object(l.jsx)(H.a,{color:"primary",onClick:function(){(r(!s),!1===s)&&function(){var t=Object(b.a)(p.a.mark((function t(){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getActivities(e.itinerary._id);case 2:n=t.sent,h(n.activities);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()},style:{marginBottom:"1rem"},children:o})]})]})})),Z={getItineraries:D.getItinerariesByCity,getItinerariesList:D.getAllItineraries,cleanItineraries:D.cleanUpItineraries},K=Object(o.b)((function(e){return{citiesList:e.cities.citiesList,itinerariesList:e.itineraries.itinerariesList}}),Z)((function(e){var t=Object(a.useState)({}),n=Object(R.a)(t,2),s=n[0],r=n[1];return Object(a.useEffect)((function(){window.scrollTo(0,0);var t=e.citiesList.find((function(t){return e.match.params.id===t._id}));if(!t)return e.history.push("/cities"),function(){return e.cleanItineraries()};function n(){return(n=Object(b.a)(p.a.mark((function t(){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getItineraries(e.match.params.id);case 2:(n=t.sent)&&n.error;case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return r(t),function(){n.apply(this,arguments)}(),function(){return e.cleanItineraries()}}),[]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(F,{city:s}),Object(l.jsxs)("div",{className:"contentCity",children:[e.itinerariesList.length>0?e.itinerariesList.map((function(e,t){return Object(l.jsx)(Q,{itinerary:e},t)})):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h1",{children:"No itineraries were found for this city, we're sorry. Try another city!"}),Object(l.jsx)("img",{alt:"sorry doggo",className:"noItinerariesImg",src:"https://i.giphy.com/media/ftrPtuqQUIZ5opePYS/giphy.gif"})]}),Object(l.jsx)("button",{className:"btnHome",children:Object(l.jsx)("span",{children:Object(l.jsx)(c.b,{to:"/cities",children:"Go Back to Cities"})})}),Object(l.jsx)(E.a,{})]})]})})),X=n(11),$=n(44),ee=n.n($),te={signIn:x.signIn},ne=Object(o.b)((function(e){return{isLoggedIn:e.user.isLoggedIn,user:e.user.user}}),te)((function(e){var t=Object(a.useState)({email:"",password:""}),n=Object(R.a)(t,2),s=n[0],r=n[1],i=function(e){r(Object(h.a)(Object(h.a)({},s),{},Object(X.a)({},e.target.name,e.target.value)))},o=function(){var t=Object(b.a)(p.a.mark((function t(){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.signIn(s);case 2:(n=t.sent).data.success?E.b.success("Welcome Back ".concat(n.data.response.name,"!"),{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):E.b.error("".concat(n.data.error),{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u=function(){var t=Object(b.a)(p.a.mark((function t(n){var a,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={email:n.profileObj.email,password:n.profileObj.googleId,flagGoogle:!0},t.next=3,e.signIn(a);case 3:(s=t.sent).data.success||E.b.error("".concat(s.data.error),{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"login signIn",children:[Object(l.jsx)("h2",{className:"active",children:" Sign in "}),Object(l.jsxs)("form",{children:[Object(l.jsx)("input",{required:!0,type:"text",className:"text",name:"email",value:s.email,onChange:i}),Object(l.jsx)("span",{children:"Email"}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{required:!0,type:"password",className:"text",name:"password",value:s.password,onChange:i}),Object(l.jsx)("span",{children:"Password"}),Object(l.jsx)("br",{})]}),Object(l.jsx)("button",{className:"signin ",onClick:o,children:"Sign In"}),Object(l.jsx)(ee.a,{clientId:"282259074384-ulqapk8gcj71sf3oald9uej24m3liule.apps.googleusercontent.com",buttonText:"Sign In with Google Account",onSuccess:u,onFailure:u,cookiePolicy:"single_host_origin",className:"googleButton signin"}),Object(l.jsxs)("p",{children:["You still do not have an account? Create one"," ",Object(l.jsx)(c.b,{to:"/signup",children:"HERE"})]})]}),Object(l.jsx)(E.a,{})]})})),ae={signUp:x.signUp},se=Object(o.b)(null,ae)((function(e){var t=Object(a.useState)({name:"",lastName:"",email:"",password:"",photoUrl:"",country:"Panama",google:!1}),n=Object(R.a)(t,2),s=n[0],r=n[1],i=function(e){r(Object(h.a)(Object(h.a)({},s),{},Object(X.a)({},e.target.name,e.target.value)))},o=function(){var t=Object(b.a)(p.a.mark((function t(n){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),!Object.values(s).some((function(e){return""===e}))){t.next=4;break}return E.b.error("All fields required, try again!",{position:"top-center",autoClose:3e3}),t.abrupt("return",!1);case 4:return t.next=6,e.signUp(s);case 6:(a=t.sent).success||(a.errors?a.errors.map((function(e){return E.b.error("".concat(e.message),{position:"top-center",autoClose:!1})})):(E.b.error("".concat(a.message),{position:"top-center",autoClose:3e3}),r({name:"",lastName:"",email:"",password:"",photoUrl:"",country:"Panama",google:!1})));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),u=function(){var t=Object(b.a)(p.a.mark((function t(n){var a,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={name:n.profileObj.givenName,lastName:n.profileObj.familyName,email:n.profileObj.email,password:n.profileObj.googleId,photoUrl:n.profileObj.imageUrl,country:"Argentina",google:!0},t.next=3,e.signUp(a);case 3:(s=t.sent).success||E.b.error("".concat(s.message),{position:"top-center",autoClose:3e3});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"login signUp",children:[Object(l.jsx)("h2",{className:"active",children:" sign up "}),Object(l.jsxs)("form",{children:[Object(l.jsx)("input",{type:"text",className:"text",name:"name",value:s.name,onChange:i,required:!0}),Object(l.jsx)("span",{children:"Name"}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{type:"text",className:"text",name:"lastName",value:s.lastName,onChange:i,required:!0}),Object(l.jsx)("span",{children:"Last Name"}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{required:!0,type:"text",className:"text",name:"photoUrl",value:s.photoUrl,onChange:i}),Object(l.jsx)("span",{children:"Photo URL"}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{required:!0,type:"text",className:"text",name:"email",value:s.email,onChange:i}),Object(l.jsx)("span",{children:"Email"}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{required:!0,type:"password",className:"text",name:"password",value:s.password,onChange:i}),Object(l.jsx)("span",{children:"Password"}),Object(l.jsx)("br",{}),Object(l.jsx)("span",{children:"Country"}),Object(l.jsxs)("select",{required:!0,name:"country",value:s.country,onChange:i,children:[Object(l.jsx)("option",{value:"Panama",children:"Panama"}),["Argentina","Brazil","Peru","Chile","Colombia","Uruguay","Paraguay","Venezuela","Bolivia"].map((function(e,t){return Object(l.jsx)("option",{value:e,children:e},t)}))]}),Object(l.jsx)("button",{className:"signin",onClick:o,children:"Sign Up"}),Object(l.jsx)(ee.a,{clientId:"282259074384-ulqapk8gcj71sf3oald9uej24m3liule.apps.googleusercontent.com",buttonText:"Sign Up with Google Account",onSuccess:u,onFailure:u,cookiePolicy:"single_host_origin",className:"googleButton signin"})]}),Object(l.jsxs)("p",{children:["Already have account? Please Sign In ",Object(l.jsx)(c.b,{to:"/signin",children:"HERE"})]})]}),Object(l.jsx)(E.a,{})]})})),re={signInLocalStorage:x.signInLocalStorage},ce=Object(o.b)((function(e){return{token:e.user.token}}),re)((function(e){return Object(a.useEffect)((function(){localStorage.getItem("token")&&e.signInLocalStorage(localStorage.getItem("token"))}),[]),Object(l.jsx)(c.a,{children:Object(l.jsxs)("div",{className:"contenedor",children:[Object(l.jsx)(v,{}),Object(l.jsxs)(i.d,{children:[Object(l.jsx)(i.b,{exact:!0,path:"/",component:L}),Object(l.jsx)(i.b,{path:"/cities",component:U}),Object(l.jsx)(i.b,{path:"/city/:id",component:K}),!e.token&&Object(l.jsx)(i.b,{path:"/signin",component:ne}),!e.token&&Object(l.jsx)(i.b,{path:"/signup",component:se}),Object(l.jsx)(i.b,{path:"/notFound",component:P}),Object(l.jsx)(i.a,{to:"/"})]}),Object(l.jsx)(u,{})]})})})),ie=(n(116),n(36)),oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{citiesList:[],filteredCitiesList:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_CITIES":return Object(h.a)(Object(h.a)({},e),{},{citiesList:t.payload,filteredCitiesList:t.payload});case"FILTER_CITIES":return Object(h.a)(Object(h.a)({},e),{},{filteredCitiesList:e.citiesList.filter((function(e){return e.title.toLowerCase().startsWith(t.payload)}))});default:return e}},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{itinerariesList:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ITINERARY_BY_CITY":case"GET_ALL_ITINERARIES":return Object(h.a)(Object(h.a)({},e),{},{itinerariesList:t.payload});case"CLEAN_ITINERARIES":return Object(h.a)(Object(h.a)({},e),{},{itinerariesList:[]});default:return e}},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{token:null,user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_INTO_SYSTEM":return localStorage.setItem("token",t.payload.token),localStorage.setItem("user",JSON.stringify(t.payload.user)),localStorage.setItem("userId",JSON.stringify(t.payload.user.id)),Object(h.a)(Object(h.a)({},e),{},{token:t.payload.token,user:t.payload.user});case"SIGN_OUT":return localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("userId"),Object(h.a)(Object(h.a)({},e),{},{token:null,user:{}});default:return e}},je=Object(ie.b)({cities:oe,itineraries:le,user:ue}),de=n(74),me=Object(ie.c)(je,Object(ie.a)(de.a));r.a.render(Object(l.jsx)(o.a,{store:me,children:Object(l.jsx)(ce,{})}),document.getElementById("root"))},81:function(e,t,n){}},[[117,1,2]]]);
//# sourceMappingURL=main.f116a5d9.chunk.js.map